(()=>{"use strict";let n=1,e=[];const t=document.getElementById("orders"),o={순댓국:2e3,해장국:1e3};class s{no;name;timer;isCooked=!1;constructor(n,e,t){this.no=n,this.name=e,this.timer=t}startCook(){this.isCooked=!0}}function r(){t.innerHTML="";for(let n of e){const e=document.createElement("tr");e.innerHTML=`\n      <td>\n        ${n.no}\n      </td>\n      <td>\n        ${n.name}\n      </td>\n      <td>\n        ${n.isCooked?"요리중":"대기중"}\n      </td>\n    `,t.appendChild(e)}}const i=document.getElementById("chefs");class d{name="요리사";isWorked=!1;nowCook="";constructor(n){this.name=n}cook(n){return new Promise((t=>{n.startCook(),this.isWorked=!0,this.nowCook=`${n.no}번 ${n.name}`,c(),r(),setTimeout((()=>{this.isWorked=!1,this.nowCook="",function(n){e=e.filter((e=>e!=n))}(n),c(),r(),t(n)}),n.timer)}))}}function c(){i.innerHTML="";for(let n of a){const e=document.createElement("tr");e.innerHTML=`\n      <td>\n        ${n.name}\n      </td>\n      <td>\n        ${n.isWorked?"요리중":"대기중"}\n      </td>\n      <td>\n        ${n.nowCook}\n      </td>\n    `,i.appendChild(e)}}const a=[new d("이연복"),new d("김풍")],m=document.getElementById("serves"),l=document.getElementById("results");class u{name="웨이터";isWorked=!1;speed=1e3;nowServe="";constructor(n,e){this.name=n,this.speed=e}serve(n){return new Promise((e=>{this.isWorked=!0,this.nowServe=`${n.no}번 ${n.name}`,h(),setTimeout((()=>{this.isWorked=!1,this.nowServe="",f.push(n),h(),function(){l.innerHTML="";for(let n=f.length-1;n>-1;n--){const e=f[n],t=document.createElement("tr");t.innerHTML=`\n      <td>\n        ${e.no}\n      </td>\n      <td>\n        ${e.name}\n      </td>\n    `,l.appendChild(t)}}(),e(n)}),this.speed)}))}}function h(){m.innerHTML="";for(let n of k){const e=document.createElement("tr");e.innerHTML=`\n      <td>\n        ${n.name}\n      </td>\n      <td>\n        ${n.isWorked?"서빙중":"대기중"}\n      </td>\n      <td>\n        ${n.nowServe}\n      </td>\n    `,m.appendChild(e)}}const k=[new u("서빙로봇1",1e3),new u("서빙로봇2",2e3)],f=[];async function w(t){!function(t){let i=new s(n++,t,o[t]);e.push(i),r()}(t);const i=await new Promise((n=>{const e=setInterval((async()=>{const t=a.find((n=>!1===n.isWorked));t&&(clearInterval(e),n(t))}),50)})),d=e.find((n=>!1===n.isCooked));await function(n,e){return console.log(n),n.cook(e)}(i,d);const c=await new Promise((n=>{const e=setInterval((async()=>{const t=k.find((n=>!1===n.isWorked));t&&(clearInterval(e),n(t))}),50)}));await function(n,e){return n.serve(e)}(c,d)}document.getElementById("orderBtns").addEventListener("click",(n=>{"BUTTON"===n.target.tagName&&w(n.target.value)}))})();
//# sourceMappingURL=main.3f7b98638c99d8ad87ec.bundle.js.map